# Basic configurations
set-option -g default-shell /bin/zsh
set-window-option -g mode-keys vi
# Start windows and panes at 1, not 0
set -g base-index 1
set -g pane-base-index 1

set-option -g status-position top

set-option -g repeat-time 0

# Removes ESC delay
set -sg escape-time 0

set -g @plugin 'jimeh/tmux-themepack'

## Force 256 color
set -g default-terminal "screen-256color"

## Force VIM style
set-option -g status-keys vi
set-option -g mode-keys vi

#use hjkl for moving
#and HJKL for resizing
setw -g mode-keys vi
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use Vim like keys to split the window
bind-key v split-window -h -c "#{pane_current_path}"
bind-key s split-window -v -c "#{pane_current_path}"

# Add ability to scroll in window
## Enable scrolling
set -g mouse on
#
##########################################
# List of plugins
# To install the plugins from command line
## ~/.tmux/plugins/tpm/scripts/install_plugins.sh
# Supports `github_username/repo` or full git repo URLs
set -g @tpm_plugins "              \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-sensible       \
  tmux-plugins/tmux-cpu            \
  tmux-plugins/tmux-sidebar        \
  tmux-plugins/tmux-logging        \
  tmux-plugins/tmux-battery        \
  nhdaly/tmux-scroll-copy-mode     \
	caiogondim/maglev 							\
	tmux-plugins/tmux-resurrect           \
	tmux-plugins/tmux-continuum           \
	tmux-plugins/tmux-yank                \
	tmux-plugins/tmux-pain-control        \
	tmux-plugins/tmux-copycat             \
	tmux-plugins/tmux-open                \
	tmux-plugins/tmux-prefix-highlight    \	
"
# Other examples:
# github_username/plugin_name    \
# git@github.com/user/plugin     \
# git@bitbucket.com/user/plugin  \

##########################################
## Configure tmux plugins

# tmux-plugins/tmux-sidebar
# prefix + Tab - toggle sidebar with a directory tree
# prefix + Backspace - toggle sidebar and move cursor to it (focus it)

set -g window-status-format "#[fg=colour16,bg=colour234] #I #[fg=colour231,bold]#W #[fg=colour31,bg=colour234,nobold]"
set -g window-status-current-format "#[fg=colour117,bg=colour31] #I #[fg=colour231,bold]#W #[fg=colour31,bg=colour234,nobold]"
# tmux-plugins/tmux-online-status
set -g status-left "CPU: #{cpu_icon} #{cpu_percentage} #{wan_status} #{lan_status}" 
# tmux-plugins/tmux-battery
set -g status-right "Battery: #{battery_icon} #{battery_percentage} | #{vm_status} | %a %h-%d %H:%M "

# remap prefix to Control + s
set -g prefix C-s
unbind C-b
bind C-s send-prefix

# force a reload of the config file
unbind r
bind r source-file ~/.tmux.conf

# quick pane cycling
unbind ^A
bind ^A select-pane -t :.+

# Run plugin manager
run-shell '~/.tmux/plugins/tpm/tpm'
